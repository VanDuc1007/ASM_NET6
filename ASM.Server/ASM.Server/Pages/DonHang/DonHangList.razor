@page "/DonHangList"

@using ASM.Share.Models
@using ASM.Server.Data
@inject ASM.Share.Models.IDonhangSvc _donhangService

<h3>Danh sách Đơn Hàng</h3>
    

<table class="table">
    <thead>
        <tr>
            <th>Khách Hàng</th>
            <th>Email</th>
            <th>Ngày đặt</th>
            <th>Tổng tiền</th>
            <th>Trạng thái </th>
            <th>Ghi chú</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in donhangs)
        {
        <tr>
            <td>@item.Khachhang.FullName</td>
            <td>@item.Khachhang.EmailAddress</td>
            <td>@item.Ngaydat</td>
            <td>@item.Tongtien</td>
            <td>@item.TrangthaiDonhang</td>
            <td>@item.Ghichu</td>
            <td>
                <a class="btn btn-info" href="/DonhangDialog/@item.DonhangID">Sửa</a>
                <a class="btn" href="/DonhangDetail/@item.DonhangID">Chi tiết</a>
            </td>
        </tr>
        }
    </tbody>
</table>
@code {
    public List<Donhang> donhangs;
    protected override void OnInitialized()
    {
        donhangs = _donhangService.GetDonhangAll();
    }
    private void Delete(int id)
    {

    }
}

